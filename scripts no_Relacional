CRUD

CREATE
-- insertar un documento en la colección reviews
db.reviews.insertOne({
    productId: NumberLong("9"),
    userId: NumberLong("1"),
    orderId: NumberLong("5"),
    rating: 5,
    title: "Excelente producto",
    comment: "Me encantó la calidad",
    images: ["prueba"],
    productName: "Laptop Gaming",
    userName: "Juan Pérez",
    helpfulCount: 0,
    verified: true,
    createdAt: new Date(),
    updatedAt: new Date()
})
-- insertar varios documentos en la colección reviews
db.reviews.insertMany([
    {
        productId: NumberLong("10"),
        userId: NumberLong("2"),
        orderId: NumberLong("6"),
        rating: 4,
        title: "Buen producto",
        comment: "Funciona bien, pero podría mejorar",
        images: [],
        productName: "Auriculares Inalámbricos",
        userName: "María López",
        helpfulCount: 0,
        verified: true,
        createdAt: new Date(),
        updatedAt: new Date()
    },
    {
        productId: NumberLong("11"),
        userId: NumberLong("3"),
        orderId: NumberLong("7"),
        rating: 3,
        title: "Producto promedio",
        comment: "No está mal, pero esperaba más",
        images: ["imagen1.jpg", "imagen2.jpg"],
        productName: "Smartwatch",
        userName: "Carlos García",
        helpfulCount: 0,
        verified: false,
        createdAt: new Date(),
        updatedAt: new Date()
    }
])

READ
-- encontrar todos los documentos en la colección reviews
db.reviews.find({})
-- encontrar un documento específico en la colección reviews
db.reviews.findOne({ _id: ObjectId("6940b79fdc38ac432e71f3a3") })

-- ver los documentos de product_review_stats
db.product_review_stats.find({})





UPDATE
-- modificar un dato en un documento de la colección reviews
db.reviews.updateOne(
    { _id: ObjectId("6940b79fdc38ac432e71f3a3") },
    {
        $set: {
            rating: 4,
            updatedAt: new Date()
        }
    }
)
-- modificar varios documentos en la colección reviews
db.reviews.updateMany(
    { verified: false },
    {
        $set: {
            verified: true,
            updatedAt: new Date()
        }
    }
)
DELETE
-- elimianr varios documentos de la colección reviews
db.reviews.deleteMany({})
-- eliminar un documento de la colección reviews
db.reviews.deleteOne({
    _id: ObjectId("64b8f4f2e1d3c8a1b2c3d4e5")
})
